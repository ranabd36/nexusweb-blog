{{ define "main" }}
  <div class="pt-6">
    <h1
      class="text-2xl font-bold tracking-wide text-gray-500 dark:text-gray-400"
    >
      {{ .Title }}
    </h1>
  </div>
  <div
    class="grid grid-cols-6 gap-x-6 gap-y-12 mt-4 pt-8 border-t border-gray-300 dark:border-gray-600"
  >
    <div
      class="col-span-6 sm:col-span-2 order-last sm:order-first grid gap-4 sm:gap-10"
    >
      <div>
        <h2 class="font-bold tracking-wide text-gray-500 uppercase">
          Published On
        </h2>
        <div class="font-medium text-gray-600 dark:text-gray-300">
          {{ .Date.Format "January 2, 2006" }}
        </div>
      </div>

      {{ if .Params.series }}
        <div>
          <h2 class="font-bold tracking-wide text-gray-500 uppercase">
            Series
          </h2>
          <div class="flex flex-wrap space-x-3">
            <a
              class="text-sm font-medium uppercase text-amber-500 hover:text-amber-600 dark:hover:text-amber-400"
              href="{{ $.Site.BaseURL }}series/{{ .Params.series | urlize }}"
              >{{ .Params.series }}</a
            >
          </div>
        </div>
      {{ end }}

      {{ if .Params.categories }}
        <div>
          <h2 class="font-bold tracking-wide text-gray-500 uppercase">
            Categories
          </h2>
          <div class="flex flex-wrap space-x-3">
            {{ range .Params.categories }}
              <a
                class="text-sm font-medium uppercase text-amber-500 hover:text-amber-600 dark:hover:text-amber-400"
                href="{{ $.Site.BaseURL }}categories/{{ . | urlize }}"
                >{{ . }}</a
              >
            {{ end }}
          </div>
        </div>
      {{ end }}

      {{ if .Params.tags }}
        <div>
          <h2 class="font-bold tracking-wide text-gray-500 uppercase">Tags</h2>
          <div class="flex flex-wrap space-x-3">
            {{ range .Params.tags }}
              <a
                class="text-sm font-medium uppercase text-amber-500 hover:text-amber-600 dark:hover:text-amber-400"
                href="{{ $.Site.BaseURL }}tags/{{ . | urlize }}"
                >{{ . }}</a
              >
            {{ end }}
          </div>
        </div>
      {{ end }}

      {{ $currentSeries := .Params.series }}
      {{ if $currentSeries }}
        {{ $pagesInSeries := where .Site.RegularPages "Params.series" $currentSeries }}

        {{ $prevIndex := -1 }}
        {{ $nextIndex := -1 }}

        {{ range $index, $page := $pagesInSeries }}
          {{ if eq $page.Permalink $.Permalink }}
            {{ $prevIndex = sub $index 1 }}
            {{ $nextIndex = add $index 1 }}
            {{ continue }}
          {{ end }}
        {{ end }}

        {{ $prevPage := index $pagesInSeries $prevIndex }}
        {{ $nextPage := index $pagesInSeries $nextIndex }}

        {{ if $prevPage }}
          <div>
            <h2 class="font-bold tracking-wide text-gray-500 uppercase">
              Previous Article
            </h2>
            <div class="flex flex-wrap">
              <a
                class="text-sm font-medium uppercase text-amber-500 hover:text-amber-600 dark:hover:text-amber-400"
                href="{{ $prevPage.Permalink }}"
                >{{ $prevPage.Title }}</a
              >
            </div>
          </div>
        {{ end }}

        {{ if $nextPage }}
          <div>
            <h2 class="font-bold tracking-wide text-gray-500 uppercase">
              Next Article
            </h2>
            <div class="flex flex-wrap">
              <a
                class="text-sm font-medium uppercase text-amber-500 hover:text-amber-600 dark:hover:text-amber-400"
                href="{{ $nextPage.Permalink }}"
                >{{ $nextPage.Title }}</a
              >
            </div>
          </div>
        {{ end }}

      {{ end }}
    </div>
    <div class="col-span-6 sm:col-span-4 space-y-4 leading-7">
      {{ .Content }}
    </div>
  </div>
{{ end }}
